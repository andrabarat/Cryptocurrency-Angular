<div nz-row nzJustify="space-around" nzAlign="middle">
  <h1 nz-col class="title">{{ symbol }}</h1>
</div>
<nz-divider></nz-divider>
<ng-container *ngIf="areFetched; else isFetching">
  <ng-container *ngIf="!isError; else error">
    <nz-table #basicTable [nzData]="coins" [nzFrontPagination]="false">
      <thead>
        <tr>
          <th [nzAlign]="'right'">Date</th>
          <th [nzAlign]="'right'">High</th>
          <th [nzAlign]="'right'">Low</th>
          <th [nzAlign]="'right'">Open</th>
          <th [nzAlign]="'right'">Close</th>
          <th [nzAlign]="'right'">Volume</th>
          <th [nzAlign]="'right'">MarketCap</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let data of basicTable.data; let i = index">
          <td [nzAlign]="'right'">{{ data.date | date: "dd-MM-yyyy" }}</td>
          <td [nzAlign]="'right'">
            <span class="space-between">{{
              formatNumberSeparator(data.high)
            }}</span>
            <ng-container *ngIf="i < basicTable.data.length - 1">
              <app-comparable-icon
                [value]="basicTable.data[i].high"
                [previousValue]="basicTable.data[i + 1].high"
              ></app-comparable-icon>
            </ng-container>
          </td>
          <td [nzAlign]="'right'">
            <span class="space-between">{{
              formatNumberSeparator(data.low)
            }}</span>
            <ng-container *ngIf="i < basicTable.data.length - 1">
              <app-comparable-icon
                [value]="basicTable.data[i].low"
                [previousValue]="basicTable.data[i + 1].low"
              ></app-comparable-icon>
            </ng-container>
          </td>
          <td [nzAlign]="'right'">
            <span class="space-between">{{
              formatNumberSeparator(data.open)
            }}</span>
            <ng-container *ngIf="i < basicTable.data.length - 1">
              <app-comparable-icon
                [value]="basicTable.data[i].open"
                [previousValue]="basicTable.data[i + 1].open"
              ></app-comparable-icon>
            </ng-container>
          </td>
          <td [nzAlign]="'right'">
            <span class="space-between">{{
              formatNumberSeparator(data.close)
            }}</span>
            <ng-container *ngIf="i < basicTable.data.length - 1">
              <app-comparable-icon
                [value]="basicTable.data[i].close"
                [previousValue]="basicTable.data[i + 1].close"
              ></app-comparable-icon>
            </ng-container>
          </td>
          <td [nzAlign]="'right'">
            <span class="space-between">{{
              formatNumberSeparator(data.volume)
            }}</span>
            <ng-container *ngIf="i < basicTable.data.length - 1">
              <app-comparable-icon
                [value]="basicTable.data[i].volume"
                [previousValue]="basicTable.data[i + 1].volume"
              ></app-comparable-icon>
            </ng-container>
          </td>
          <td [nzAlign]="'right'">
            <span class="space-between">{{
              formatNumberSeparator(data.marketCap)
            }}</span>
            <ng-container *ngIf="i < basicTable.data.length - 1">
              <app-comparable-icon
                [value]="basicTable.data[i].marketCap"
                [previousValue]="basicTable.data[i + 1].marketCap"
              ></app-comparable-icon>
            </ng-container>
          </td>
        </tr>
      </tbody>
    </nz-table>
  </ng-container>
  <ng-template #error>
    <nz-result
      nzStatus="404"
      nzTitle="There seems to be some problems!"
      nzSubTitle="Sorry, please try again later."
    >
    </nz-result>
  </ng-template>
</ng-container>
<ng-template #isFetching>
  <nz-skeleton [nzActive]="true"></nz-skeleton>
</ng-template>
